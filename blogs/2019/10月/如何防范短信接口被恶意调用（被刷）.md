[参考地址](https://zhuanlan.zhihu.com/p/20879468)
## 短信轰炸的防护方案
鉴于短信轰炸的发起一般都是服务器行为，应该采用如下综合手段进行防御：

* 增加图形验证
* 单IP请求次数限制
* 限制号码发送


### 增加图形验证

恶意攻击者采用自动化工具，调用“动态短信获取”接口进行动态短信发送，原因主要是攻击者可以自动对接口进行大量调用。
采用图片验证码可有效防止工具自动化调用，即当用户进行“获取动态短信” 操作前，弹出图片验证码，要求用户输入验证码后，服务器端再发送动态短信到用户手机上，该方法可有效解决短信轰炸问题。

安全的图形验证码必须满足如下防护要求

* 生成过程安全:图片验证码必须在服务器端进行产生与校验;
* 使用过程安全:单次有效，且以用户的验证请求为准;
* 验证码自身安全:不易被识别工具识别，能有效防止暴力破解。


### 单IP请求次数限制

使用了图片验证码后，能防止攻击者有效进行“动态短信”功能的自动化调用;
但若攻击者忽略图片验证码验证错误的情况，大量执行请求会给服务器带来额外负担，影响业务使用。建议在服务器端限制单个 IP 在单位时间内的请求次数，一旦用户请求次数(包括失败请求次数)超出设定的阈值，则暂停对该 IP 一段时间的请求;若情节特别严重，可以将 IP 加入黑名单，禁止该 IP 的访问请 求。该措施能限制一个 IP 地址的大量请求，避免攻击者通过同一个 IP 对大量用户进行攻击，增加了攻击难度，保障了业务的正常开展。

### 限制发送时长

建议采用限制重复发送动态短信的间隔时长， 即当单个用户请求发送一次动态短信之后，服务器端限制只有在一定时长之后（此处一般为60秒），才能进行第二次动态短信请求。该功能可进一步保障用户体验，并避免包含手工攻击恶 意发送垃圾验证短信。

